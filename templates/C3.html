<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Arquitectura de la AplicaciÃ³n Flask - Modelo C4 (Diagrama C3)</title>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true, theme: 'default' });
  </script>
</head>
<body>
  <pre class="mermaid">
graph TB
    subgraph "Contenedor del Servidor Web Flask"
        subgraph "Capa de PresentaciÃ³n"
            AuthController[ğŸ” Controlador de AutenticaciÃ³n<br/><br/>Inicio/cierre de sesiÃ³n<br/>GestiÃ³n de sesiones<br/>ProtecciÃ³n de rutas]
            
            CategoryController[ğŸ“ Controlador de CategorÃ­as<br/><br/>Operaciones CRUD<br/>para categorÃ­as<br/>Endpoints REST]
            
            TaskController[âœ… Controlador de Pendientes<br/><br/>Operaciones CRUD<br/>para pendientes<br/>Endpoints REST]
            
            ReminderController[ğŸ”” Controlador de Recordatorios<br/><br/>Operaciones CRUD<br/>para recordatorios<br/>PatrÃ³n Blueprint]
        end
        
        subgraph "Capa de LÃ³gica de Negocio"
            ReminderService[ğŸ”” Servicio de Recordatorios<br/><br/>LÃ³gica de negocio<br/>para recordatorios<br/>ValidaciÃ³n de datos]
        end
        
        subgraph "Capa de Acceso a Datos"
            ReminderRepository[ğŸ”” Repositorio de Recordatorios<br/><br/>Persistencia de datos<br/>Operaciones SQLAlchemy<br/>MÃ©todos CRUD]
            
            DatabaseAccess[ğŸ—„ï¸ Acceso a Base de Datos<br/><br/>Consultas SQL directas<br/>GestiÃ³n de conexiones<br/>Operaciones en crudo]
        end
        
        subgraph "IntegraciÃ³n Externa"
            PusherIntegration[ğŸ“¡ IntegraciÃ³n con Pusher<br/><br/>Notificaciones en tiempo real<br/>DifusiÃ³n de eventos<br/>GestiÃ³n de canales]
        end
        
        subgraph "Modelos de Datos"
            DataModels[ğŸ“Š Modelos de Datos<br/><br/>Modelos SQLAlchemy<br/>Entidades: CategorÃ­a,<br/>Pendiente, Recordatorio]
        end
    end
    
    subgraph "Dependencias Externas"
        MySQL[(ğŸ—„ï¸ Base de Datos MySQL)]
        PusherAPI[ğŸ“¡ API de Pusher]
    end
    
    AuthController --> DatabaseAccess
    CategoryController --> DatabaseAccess
    TaskController --> DatabaseAccess
    ReminderController --> ReminderService
    ReminderService --> ReminderRepository
    ReminderRepository --> DataModels
    DatabaseAccess --> MySQL
    DataModels --> MySQL
    PusherIntegration --> PusherAPI
    
    CategoryController --> PusherIntegration
    TaskController --> PusherIntegration
    
    classDef controllerClass fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef serviceClass fill:#f1f8e9,stroke:#388e3c,stroke-width:2px
    classDef repositoryClass fill:#fff8e1,stroke:#f57c00,stroke-width:2px
    classDef dataClass fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef externalClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef modelClass fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    
    class AuthController,CategoryController,TaskController,ReminderController controllerClass
    class ReminderService serviceClass
    class ReminderRepository,DatabaseAccess repositoryClass
    class DataModels modelClass
    class MySQL,PusherAPI externalClass
    class PusherIntegration dataClass
  </pre>
</body>
</html>
